class ondas {

PImage gradient;
PGraphics shape;
float playerPosX, playerPosY;
//________________
int xspacing = 11;   // How far apart should each horizontal location be spaced
int w;              // Width of entire wave

float[] theta = new float[2];
float dx;  // Value for incrementing X, a function of period and xspacing
float[] yvalues;  // Using an array to store height values for the wave
//_________________


void setupondas() {
  gradient = createImage(width, height, RGB);
  shape = createGraphics(width, height, JAVA2D);
  playerPosX = width/2;
  playerPosY = height/2;
  theta[0] = 1;

}

 void calcWave(int amplitude, int period, int p) {
  // Increment theta (try different values for 'angular velocity' here
  theta[p] += 0.02;
  w = width+16;
  dx = (TWO_PI / period) * xspacing;
  yvalues = new float[w/xspacing];
  // For every x value, calculate a y value with sine function
  float x = theta[p];
  for (int i = 0; i < yvalues.length; i++) {
    yvalues[i] = sin(x)*amplitude;
    x+=dx;
  }
}

   
void drawGradient(int H, int S, int B, int Hstart ) {
  colorMode(HSB, H, S, B);
  gradient.loadPixels();
  for (int y=0; y<gradient.height; y++) {
    for (int x=0; x<gradient.width; x++) {
      int index = x + y * gradient.width;
      float distance = dist(x, y, mouseX, mouseY);
      gradient.pixels[index] = color(distance/15+Hstart, 70, 100);
    }
  }
  gradient.updatePixels();
  colorMode(RGB, 255, 255, 255);
}

void drawShape() { 
  shape.beginDraw();
  shape.background(0);
  shape.noStroke();
  shape.fill(255);
  shape.beginShape();
  // A simple way to draw the wave with an ellipse at each location
  for (int k = 0; k < yvalues.length; k++) {
    shape.vertex(k*xspacing, height/2+yvalues[k]);
  }
  shape.vertex(width, height);
  shape.vertex(0, height);
  shape.endShape();
  shape.endDraw();
}

}